{"source":{"hash":"0xc3ad07c0a7884e9bf14edb07ac9f7dc064991aa39a1e08445aa4e87fd3fa1a47","language":"ink! 4.1.0","compiler":"rustc 1.70.0-nightly","wasm":"0x0061736d0100000001560f60027f7f0060017f0060037f7f7f0060047f7f7f7f017f60000060037e7e7f0060027f7f017f60037f7f7f017f60047f7f7f7f0060027e7f006000017e60037f7e7e017f6000017f60027e7e0060047f7e7e7f017f02ac0210057365616c310b6765745f73746f726167650003057365616c301176616c75655f7472616e736665727265640000057365616c30036e6f770000057365616c3005696e7075740000057365616c300663616c6c65720000057365616c3007616464726573730000057365616c300762616c616e63650000057365616c300d65636473615f7265636f7665720007057365616c30087472616e736665720003057365616c300d6465706f7369745f6576656e740008057365616c320b7365745f73746f726167650003057365616c31097465726d696e6174650001057365616c300b7365616c5f72657475726e0002057365616c300f686173685f626c616b65325f3235360002057365616c300d686173685f736861325f323536000203656e76066d656d6f72790201021003191802010000050201090a010b000c06060d040001050004040e0608017f01418080040b071102066465706c6f7900240463616c6c00250ab22a182c01017f037f2002200346047f200005200020036a200120036a2d00003a0000200341016a21030c010b0b1a0b08002000410110110b2d01017f2000280208220220002802044904402000200241016a360208200028020020026a20013a00000f0b000be20102037e037f230041206b22052400200541086a210620012802042207411049047e4201052001200741106b36020420012001280200220741106a360200200741086a29000021022007290000210342000b21042006200337030820062004370300200641106a200237030042012102024020052802080d002001280204220641c100490d00200541186a2903002102200529031021032001200641c1006b36020420012001280200220141c1006a360200200041186a200141c100100f200041106a200237030020002003370308420021020b20002002370300200541206a24000b2a01017f230041106b2203240020032001370308200320003703002002200341101014200341106a24000b4701027f024002402000280208220320026a22042003490d00200420002802044b0d00200420036b2002470d01200028020020036a20012002100f200020043602080f0b000b000b2601017f230041106b220124002001410036020c20002001410c6a41041014200141106a24000b2601017f230041106b22022400200220003703082001200241086a41081014200241106a24000b3202017f017e230041106b22002400200042003703002000410836020c20002000410c6a10022000290300200041106a24000b6d01017f230041106b2201240020014180800136020c41b080042001410c6a1004200041b18004290000370001200041096a41b98004290000370000200041116a41c18004290000370000200041186a41c88004290000370000200041b080042d00003a0000200141106a24000be40101037f230041306b22032400200341186a200041186a290000370300200341106a200041106a290000370300200341086a200041086a29000037030020032000290000370300200342808001370224200341b080043602202003200341206a101a02402003280224220420032802282200490d0020032802202105200341003602282003200420006b3602242003200020056a36022020012002200341206a10132003280228220420032802244b0d00410c2005200020032802202004100822002000410c4f1b2200047f200041a380046a2d000005410d0b200341306a24000f0b000b0a0020012000412010140b5502027f027e230041206b22002400200041106a22014200370300200042003703082000411036021c200041086a2000411c6a10012001290300210220002903082103200041206a2400410541042002200384501b0b0b0020002001101d4101730b4601037f027f41202102034041002002450d011a200241016b210220012d0000210320002d00002104200041016a2100200141016a210120032004460d000b200420036b0b450b4901017f230041106b22022400200241b0800436020041b0800441003a00002002428080818010370204200020012002101320022802082202418180014f0440000b410020021023000b4501017f230041106b2200240041b0800441013a0000200041b0800436020020004280808180103702042000101020002802082200418180014f0440000b410120001023000b4401027f41b0800441003a000041012103200141ff0171410647044041b1800441013a000041022103200121020b200341b080046a20023a00002000200341016a1023000bbf0101047f230041106b22012400200142808001370204200141b080043602002001101502402001280204220420012802082202490d0020012802002103200141003602082001200420026b3602042001200220036a36020020002001101a200041206a2001101a200041d0006a290300200041d8006a290300200110222000290340200041c8006a290300200110132000290360200110162001280208220020012802044b0d002003200220012802002000100a1a200141106a24000f0b000b1b0020005004402002410010110f0b2002410110112001200210160b0d00200041b080042001100c000baf0202057f017e230041f0016b2200240002400240101b41ff01714105470d002000418080013602880141b0800420004188016a10032000280288012201418180014f0d002001412c4f044041b08004280200419bddf6f405460d020b101f000b000b200041086a220141bc8004290200370300200041106a220241c48004290200370300200041186a220341cc8004290200370300200041b4800429020037030041d480042902002105200041206a22041018200041e8006a4200370300200041f0006a4200370300200041d8006a2003290300370300200041d0006a2002290300370300200041c8006a20012903003703002000420037036020002005370380012000200029030037034020004188016a2200200441e800100f2000102141b0800441003b0100410041021023000bc318020a7f077e230041d0026b220024000240024002400240024002400240101b41ff01714105470d002000418080013602c80141b08004200041c8016a100320002802c8012201418180014f0d0020014104490d03200041b480043602b0022000200141046b3602b40241b08004280200220341187621012003411076210220034108762104027f024002400240024002400240024002400240200341ff0171220341fa01470440200341c100460d02200341c700460d03200341e100460d072003418401460d042003419001460d05200341aa01460d01200341c601460d06200341ea01460d082003413c47200441ff01714192014772200241ff0171412147200141e6004772720d0e200041c8016a200041b0026a101220002903c8014200520d0e200041d9016a350000200041dd016a330000210a200041df016a310000210d20002900d101210e20002d00d0012105200041e0006a200041e0016a41c100100f200a200d4210868442208684210f41000c0a0b200441ff017141be0147200241ff017141cb004772200141ff0147720d0d41010c090b200441ff0171412547200241ff0171413747722001413247720d0c41020c080b200441ff0171410f47200241ff017141cc0147720d0b2001419d01460d060c0b0b200441ff017141c70047200241ff0171410147722001413a47720d0a41040c060b200441ff017141b00147200241ff0171413747722001413247720d0941050c050b200441ff0171410c47200241ff017141fe004772200141c40047720d0841060c040b200441ff0171410847200241ff017141e4004772200141bc0147720d0741070c030b200441ff0171413047200241ff0171412c4772200141ed0147720d0641080c020b200441ff017141810147200241ff017141fe004772200141e50047720d0541090c010b200041c8016a200041b0026a101220002903c8014200520d04200041d9016a350000200041dd016a330000210a200041df016a310000210d20002900d101210e20002d00d0012105200041e0006a200041e0016a41c100100f200a200d4210868442208684210f41030b2108200041186a200041e0006a41c100100f2000428080013702cc01200041b080043602c801200041c8016a101520002802cc01220420002802d0012201490d0020002802c80121022000200420016b22033602c80120022001200120026a2206200041c8016a10002101200320002802c801220449410c20012001410c4f1b72200441607141204620044120497272200441c00046720d0020062d0000210941012107200641206a220341216a2101200441c1006b21020240024020032d00200e020100020b20024108490d01200441c9006b21022001290000210a4201211041002107200141086a21010b20024178714110462002411049720d00200141086a290000210b2001290000210d200041d0016a200641016a220241086a290000370300200041d8016a200241106a290000370300200041df016a200241176a290000370000200041ef016a200341086a290000370000200041f7016a200341106a290000370000200041ff016a200341186a290000370000200020022900003703c801200020032900003700e7012001290010210c41012101200041e0006a410172200041c8016a413f100f200041a8016a200b3703002000200d3703a0012000200c3703c0012000200a3703b801200020103703b001200020093a0060024002400240024002400240024002400240024002400240200841016b0e090a0901070605040302000b200041c8016a22021018200220004180016a2202101c0d0a410221012005ad42ff0183200e42088684220c200d542204200f420886200e42388884220a200b54200a200b511b0d0a200041c8016a2203200041186a41c100100f41052101200041e0006a200c200a20031026450d0a200041e0016a2203200241186a290000370300200041d8016a2205200241106a290000370300200041d0016a2206200241086a290000370300200020022900003703c80141032101200041c8016a200c200d7d200a200b7d2004ad7d101941ff0171410d470d0a2003200041f8006a2903003703002005200041f0006a2903003703002006200041e8006a2903003703000c0f0b200041c8016a2204101841012102200420004180016a2204101c0d0c200041c8016a2203200041186a41c100100f41052102200041e0006a2005ad42ff0183200e42088684220c200f420886200e42388884220a20031026450d0c41022102200c200d542203200a200b54200a200b511b22050d0c20050d0a200041a8016a200a3703002000200c3703a001200041e0016a200441186a290000370300200041d8016a200441106a290000370300200041d0016a200441086a290000370300200020042900003703c80141032102200041c8016a200c200d7d200a200b7d2003ad7d101941ff0171410d460d060c0c0b230041206b22012400200141106a22024200370300200142003703082001411036021c200141086a2001411c6a10062001290308210b200041086a220420022903003703082004200b370300200141206a24002000290308200041106a290300101e000b230041106b22002400200041b0800436020041b0800441003a00002000428080818010370204200c200010160c0e0b200d200b101e000b230041106b22002400200041b0800436020041b0800441003a000020004280808180103702042010200a200010220c0c0b200041e1016a20004198016a290300370000200041d9016a20004190016a290300370000200041d1016a20004188016a29030037000020002000290380013700c9010c0a0b200041e1016a200041f8006a290300370000200041d9016a200041f0006a290300370000200041d1016a200041e8006a290300370000200020002903603700c9010c090b200041c8016a2201200041e0006a41e800100f2001102141062102410021010c050b20074504401017200a5a0d040b410141041020000b200041c8016a22021018410021012002200041e0006a101c22044504401017220a200c7c220b200a540d0241b0800441043b0100200041b180043602c801200042ffff8080103702cc01200041c8016a220141a48004410010142001418080044122101420002802d001220120002802cc014b0d0220002802c8012102200041c8026a22034200370300200041c0026a22054200370300200041b8026a22064200370300200042003703b0020240200141214f0440200041e0016a22074200370300200041d8016a22084200370300200041d0016a22094200370300200042003703c80120022001200041c8016a100d200320072903003703002005200829030037030020062009290300370300200020002903c8013703b0020c010b200041b0026a20022001100f0b200042ffff003702cc01200041b180043602c801200041b0026a200041c8016a101a20002802d00141016a2201452001418180014f720d0220004180800120016b3602cc012000200141b080046a22023602c801200141808001460d02200241003a0000200041013602d001200b200041c8016a22021016200c2002101620002802d001220220002802cc014b0d0241b08004200120002802c801200210092000200b3703b801200042013703b001200041c8016a2201200041e0006a41e800100f20011021410621010b200420011020000b410120011020000b000b200041e0016a200041f8006a290300370300200041d8016a200041f0006a290300370300200041d0016a200041e8006a2903003703000c020b200120021020000b101f000b200020002903603703c801230041206b22012400200141186a2204200041c8016a220041186a290000370300200141106a2203200041106a290000370300200141086a2205200041086a29000037030020012000290000370300230041206b22022400200241186a2004290000370300200241106a2003290000370300200241086a200529000037030020022001290000370300230041106b22002400200042808001370204200041b0800436020020022000101a20002802042000280208490440000b2000280200100b000b200041003a00c801230041106b22012400200141808001360204200141b080043602000240200041c8016a22002d000045044041b0800441003a000020014101360208200041016a2001101a0c010b41b0800441013a000020014101360208200110100b20012802082200418180014f0440000b410020001023000b20002802082200418180014f0440000b410020001023000bb50301047f230041c0016b2204240020044180800136025841b08004200441d8006a22051005200441306a2002370300200441116a41b98004290000370000200441196a41c18004290000370000200441206a41c8800429000037000020042001370328200441b18004290000370009200441b080042d00003a0008200441d0006a4200370300200441c8006a4200370300200441406b42003703002004420037033820044280800137025c200441b08004360258200441086a2005101a2001200220051013024020042802602205200428025c4b0d0020042802582005200441386a2207100e200441d8006a210641002105037f2005412146047f200605200520066a41003a0000200541016a21050c010b0b1a410c200320072006100722032003410c4f1b0d0020044198016a2203420037030020044190016a2205420037030020044188016a220642003703002004420037038001200441d8006a412120044180016a100d200441b8016a2003290300370300200441b0016a2005290300370300200441a8016a200629030037030020042004290380013703a001200041206a200441a0016a101d200441c0016a24000f0b000b0b380100418080040b305061796d656e744368616e6e656c3a3a53656e646572436c6f736553746172746564000001020304050607080a0b0c09","build_info":{"build_mode":"Release","cargo_contract_version":"2.1.0","rust_toolchain":"nightly-aarch64-apple-darwin","wasm_opt_settings":{"keep_debug_symbols":false,"optimization_passes":"Z"}}},"contract":{"name":"payment_channel","version":"4.1.0","authors":["Parity Technologies <admin@parity.io>"]},"spec":{"constructors":[{"args":[{"label":"recipient","type":{"displayName":["AccountId"],"type":0}},{"label":"close_duration","type":{"displayName":["Timestamp"],"type":3}}],"docs":["The only constructor of the contract.","","The arguments `recipient` and `close_duration` are required.","","`expiration` will be set to `None`, so that the contract will","never expire. `sender` can call `start_sender_close` to override","this. `sender` will be able to claim the remaining balance by calling","`claim_timeout` after `expiration` has passed."],"label":"new","payable":false,"returnType":{"displayName":["ink_primitives","ConstructorResult"],"type":5},"selector":"0x9bae9d5e"}],"docs":[],"events":[{"args":[{"docs":[],"indexed":false,"label":"expiration","type":{"displayName":["Timestamp"],"type":3}},{"docs":[],"indexed":false,"label":"close_duration","type":{"displayName":["Timestamp"],"type":3}}],"docs":[" Emitted when the sender starts closing the channel."],"label":"SenderCloseStarted"}],"lang_error":{"displayName":["ink","LangError"],"type":7},"messages":[{"args":[{"label":"amount","type":{"displayName":["Balance"],"type":4}},{"label":"signature","type":{"displayName":[],"type":8}}],"docs":[" The `recipient` can close the payment channel anytime. The specified"," `amount` will be sent to the `recipient` and the remainder will go"," back to the `sender`."],"label":"close","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":9},"selector":"0x3c922166"},{"args":[],"docs":[" If the `sender` wishes to close the channel and withdraw the funds they can"," do so by setting the `expiration`. If the `expiration` is reached, the"," sender will be able to call `claim_timeout` to claim the remaining funds"," and the channel will be terminated. This emits an event that the recipient can"," listen to in order to withdraw the funds before the `expiration`."],"label":"start_sender_close","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":9},"selector":"0xfabe4bff"},{"args":[],"docs":[" If the timeout is reached (`current_time >= expiration`) without the"," recipient closing the channel, then the remaining balance is released"," back to the `sender`."],"label":"claim_timeout","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":9},"selector":"0xaa253732"},{"args":[{"label":"amount","type":{"displayName":["Balance"],"type":4}},{"label":"signature","type":{"displayName":[],"type":8}}],"docs":[" The `recipient` can withdraw the funds from the channel at any time."],"label":"withdraw","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":9},"selector":"0x410fcc9d"},{"args":[],"docs":[" Returns the `sender` of the contract."],"label":"get_sender","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":12},"selector":"0x4747013a"},{"args":[],"docs":[" Returns the `recipient` of the contract."],"label":"get_recipient","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":12},"selector":"0x84b03732"},{"args":[],"docs":[" Returns the `expiration` of the contract."],"label":"get_expiration","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":13},"selector":"0x900c7e44"},{"args":[],"docs":[" Returns the `withdrawn` amount of the contract."],"label":"get_withdrawn","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":15},"selector":"0xc60864bc"},{"args":[],"docs":[" Returns the `close_duration` of the contract."],"label":"get_close_duration","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":16},"selector":"0x61302ced"},{"args":[],"docs":[" Returns the `balance` of the contract."],"label":"get_balance","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":15},"selector":"0xea817e65"}]},"storage":{"root":{"layout":{"struct":{"fields":[{"layout":{"leaf":{"key":"0x00000000","ty":0}},"name":"sender"},{"layout":{"leaf":{"key":"0x00000000","ty":0}},"name":"recipient"},{"layout":{"enum":{"dispatchKey":"0x00000000","name":"Option","variants":{"0":{"fields":[],"name":"None"},"1":{"fields":[{"layout":{"leaf":{"key":"0x00000000","ty":3}},"name":"0"}],"name":"Some"}}}},"name":"expiration"},{"layout":{"leaf":{"key":"0x00000000","ty":4}},"name":"withdrawn"},{"layout":{"leaf":{"key":"0x00000000","ty":3}},"name":"close_duration"}],"name":"PaymentChannel"}},"root_key":"0x00000000"}},"types":[{"id":0,"type":{"def":{"composite":{"fields":[{"type":1,"typeName":"[u8; 32]"}]}},"path":["ink_primitives","types","AccountId"]}},{"id":1,"type":{"def":{"array":{"len":32,"type":2}}}},{"id":2,"type":{"def":{"primitive":"u8"}}},{"id":3,"type":{"def":{"primitive":"u64"}}},{"id":4,"type":{"def":{"primitive":"u128"}}},{"id":5,"type":{"def":{"variant":{"variants":[{"fields":[{"type":6}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":6},{"name":"E","type":7}],"path":["Result"]}},{"id":6,"type":{"def":{"tuple":[]}}},{"id":7,"type":{"def":{"variant":{"variants":[{"index":1,"name":"CouldNotReadInput"}]}},"path":["ink_primitives","LangError"]}},{"id":8,"type":{"def":{"array":{"len":65,"type":2}}}},{"id":9,"type":{"def":{"variant":{"variants":[{"fields":[{"type":10}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":10},{"name":"E","type":7}],"path":["Result"]}},{"id":10,"type":{"def":{"variant":{"variants":[{"fields":[{"type":6}],"index":0,"name":"Ok"},{"fields":[{"type":11}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":6},{"name":"E","type":11}],"path":["Result"]}},{"id":11,"type":{"def":{"variant":{"variants":[{"index":0,"name":"CallerIsNotSender"},{"index":1,"name":"CallerIsNotRecipient"},{"index":2,"name":"AmountIsLessThanWithdrawn"},{"index":3,"name":"TransferFailed"},{"index":4,"name":"NotYetExpired"},{"index":5,"name":"InvalidSignature"}]}},"path":["payment_channel","payment_channel","Error"]}},{"id":12,"type":{"def":{"variant":{"variants":[{"fields":[{"type":0}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":0},{"name":"E","type":7}],"path":["Result"]}},{"id":13,"type":{"def":{"variant":{"variants":[{"fields":[{"type":14}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":14},{"name":"E","type":7}],"path":["Result"]}},{"id":14,"type":{"def":{"variant":{"variants":[{"index":0,"name":"None"},{"fields":[{"type":3}],"index":1,"name":"Some"}]}},"params":[{"name":"T","type":3}],"path":["Option"]}},{"id":15,"type":{"def":{"variant":{"variants":[{"fields":[{"type":4}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":4},{"name":"E","type":7}],"path":["Result"]}},{"id":16,"type":{"def":{"variant":{"variants":[{"fields":[{"type":3}],"index":0,"name":"Ok"},{"fields":[{"type":7}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":3},{"name":"E","type":7}],"path":["Result"]}}],"version":"4"}